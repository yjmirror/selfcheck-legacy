function n(n){for(const e of'남북')if(n.includes(e))return n[0]+e;return n.slice(0,2)}function e(n){const e=n.length-(n.endsWith('학교')?3:1),t={원:1,초:2,중:3,고:4};return t[n[e]]||t[n[e-1]]||5}function t(t){const r=i.create({headers:{post:{'Sec-Fetch-Site':'same-site'},common:{Accept:'application/json, text/plain, */*','Accept-Encoding':'gzip, deflate, br','Accept-Language':'ko-KR,ko;q=0.9','Cache-Control':'no-cache',Connection:'keep-alive',Pragma:'no-cache',Referer:'https"://hcs.eduro.go.kr/','sec-ch-ua':'"Google Chrome";v="87", ""Not;A\\Brand";v="99", "Chromium";v="87"','sec-ch-ua-mobile':'?0','Sec-Fetch-Dest':'empty','Sec-Fetch-Mode':'cors','Sec-Fetch-Site':'same-origin','User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36','X-Requested-With':'XMLHttpRequest'}}}),{school:o,area:a,name:c,birthday:l,password:p}=t;let h,d;return{t:async function(){const{data:t}=await r.get('/v2/searchSchool',{params:{schulCrseScCode:e(o),lctnScCode:(s=n(a),{서울:'01',부산:'02',대구:'03',인천:'04',광주:'05',대전:'06',울산:'07',세종:'08',경기:10,강원:11,충북:12,충남:13,전북:14,전남:15,경북:16,경남:17,제주:18}[s]),orgName:o,loginType:'school'},baseURL:'https://hcs.eduro.go.kr'});var s;if(!t||!t.schulList||!t.schulList.length)throw new u('cannot find school');const c=t.schulList[0];var i;return r.defaults.baseURL=(i=c.atptOfcdcConctUrl).startsWith('http')?i:'https://'+i,h=c.orgCode,h},o:async function(){const n={deviceUuid:'',rspns00:'Y',rspns01:'1',rspns02:'1',rspns03:null,rspns04:null,rspns05:null,rspns06:null,rspns07:null,rspns08:null,rspns09:'0',rspns10:null,rspns11:null,rspns12:null,rspns13:null,rspns14:null,rspns15:null,upperToken:d,upperUserNameEncpt:c},{data:e}=await r.post('/registerServey',n);if(e&&e.registerDtm)return e;throw new u('abnormal response from server')},i:async function(){const n={name:s(c),birthday:s(l.slice(-6)),orgCode:h,loginType:'school'},e=await r.post('/v2/findUser',n);if(!e.data||!e.data.token)throw new u('cannot find school');const t=e.data.token,o=await r.post('/v2/validatePassword',{deviceUuid:'',password:s(''+p)},{headers:{Authorization:t}});return d=o.data,r.defaults.headers.common.Authorization=d,d}}}async function r(n){const{t:e,i:r}=t(n);try{return await e(),(await r()).length>1}catch{return!1}}function s(n){return c.publicEncrypt({key:'-----BEGIN RSA PUBLIC KEY-----\nMIIBCgKCAQEA81dCnCKt0NVH7j5Oh2+SGgEU0aqi5u6sYXemouJWXOlZO3jqDsHY\nM1qfEjVvCOmeoMNFXYSXdNhflU7mjWP8jWUmkYIQ8o3FGqMzsMTNxr+bAp0cULWu\n9eYmycjJwWIxxB7vUwvpEUNicgW7v5nCwmF5HS33Hmn7yDzcfjfBs99K5xJEppHG\n0qc+q3YXxxPpwZNIRFn0Wtxt0Muh1U8avvWyw03uQ/wMBnzhwUC8T4G5NclLEWzO\nQExbQ4oDlZBv8BM/WxxuOyu0I8bDUDdutJOfREYRZBlazFHvRKNNQQD2qDfjRz48\n4uFs7b5nykjaMB9k/EJAuHjJzGs9MMMWtQIDAQAB\n-----END RSA PUBLIC KEY-----',padding:c.constants.RSA_PKCS1_PADDING},l.from(n)).toString('base64')}var o=Object.defineProperty;((n,e)=>{for(var t in(n=>{o(n,'__esModule',{value:!0})})(n),e)o(n,t,{get:e[t],enumerable:!0})})(exports,{default:()=>p,validate:()=>r,version:()=>a});const a=114,{crypto:c,axios:i,Buffer:l,SelfcheckError:u}=__HOST_API;var p=async n=>{const{t:e,o:r,i:s}=t(n);try{return await e(),await s(),await r()}catch(n){throw console.error(n),n}};